#!/bin/bash

branch=$(git rev-parse --abbrev-ref HEAD)
repo=$(basename "$(git rev-parse --show-toplevel)")

if [[ "$branch" == "main" || "$branch" == "master" ]]; then
    echo "âš ï¸  You are committing to '$branch' in repo '$repo'."
    echo -n "Are you sure? (y/n): " > /dev/tty
    read confirm < /dev/tty
    if [[ "$confirm" != "y" ]]; then
        echo "ðŸš« Commit aborted."
        exit 1
    fi
fi
